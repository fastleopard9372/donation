(function($){Drupal.behaviors.ALSFAdaptiveTheme={attach:function(context,settings){$(window).scroll(function(){var scroll_h=$(this).scrollTop();if(scroll_h>70){if(!$('#header').hasClass('sticky')){$('#header').addClass("sticky");$('#nav-wrapper').addClass("sticky");$('#tophat-wrapper').addClass("sticky");}}
else{if($('#header').hasClass('sticky')){$('#header').removeClass("sticky");$('#nav-wrapper').removeClass("sticky");$('#tophat-wrapper').removeClass("sticky");}}
if($('#get-involved-flyout').length>0){var flyout=$('#get-involved-flyout');if(scroll_h>140){flyout.addClass("closed");}else{flyout.removeClass("closed");}
var visible_h=$(window).height();var doc_h=$(document).height();var footer_h=$('#footer-wrapper').height();if(scroll_h+visible_h>doc_h-footer_h){var footer_visible=(footer_h+scroll_h+visible_h)-doc_h;var flyout_h=flyout.height();var flyout_top=flyout.position().top;var flyout_bottom=visible_h-(flyout_h+flyout_top);if(footer_visible>=flyout_bottom){var flyout_top=visible_h-footer_visible-flyout_h;flyout.css('top',flyout_top+'px');if(!flyout.hasClass('bottom')){flyout.addClass('bottom');}}else if(flyout.hasClass('bottom')){flyout.removeClass('bottom');flyout.css('top',visible_h-flyout_h);}}else if(flyout.hasClass('bottom')){flyout.removeClass('bottom');flyout.css('top',visible_h-flyout_h);}}});$('#tophat-wrapper').once('add-search-toggle',function(){if($('#tophat-wrapper .block-search').length>0){$('#tophat-wrapper .block-search').after('<a id="tophat-search-icon" href="#">Search</div>');$('#tophat-wrapper .block-search').hide();$('#tophat-search-icon').click(function(e){e.preventDefault();$('#tophat-wrapper .block-search').animate({width:['show','linear']},400);$('#tophat-search-icon').hide();$('#tophat-wrapper .block-search input[name="search_block_form"]').focus();});$('#tophat-wrapper .block-search input[type="submit"]').addClass('submitted');$('#tophat-wrapper .block-search').focusout(function(){setTimeout(function(){if(!$('#tophat-wrapper .block-search').hasClass('submitted')){$('#tophat-wrapper .block-search').animate({width:['hide','linear']},400);$('#tophat-search-icon').show();}},10);});}});$('.tabset').tabs({show:{effect:"fade",duration:100}});$('.tabset-responsive').once('alsf-responsive-tabs',function(){if($(this).hasClass('start-collapsed')){var hash=window.location.hash;if(hash){$(this).responsiveTabs({startCollapsed:false});}else{$(this).responsiveTabs({collapsible:true,startCollapsed:true});}}else{$(this).responsiveTabs({startCollapsed:'accordion'});}});$('h3.showhide-trigger').once('alsf-showhide',function(){if(!$(this).hasClass('showhide-open')){$(this).next('div.showhide-target').hide();}
$(this).click(function(e){if($(this).hasClass('showhide-open')){$(this).next('div.showhide-target').slideUp(400,function(){$(this).prev('h3.showhide-trigger').removeClass('showhide-open');});}else{$(this).addClass('showhide-open').next('div.showhide-target').slideDown();}});});$('input.label-as-bg').each(function(){if($(this).val()!=''){$(this).addClass('label-as-bg-focus');}
$(this).focus(function(){$(this).addClass('label-as-bg-focus');});$(this).blur(function(){if($(this).val()==''){$(this).removeClass('label-as-bg-focus');}});});$('a[href^="http://"]').filter(function(){return this.hostname&&this.hostname!==location.hostname;}).attr('target','_blank');$('.popup-wrapper').each(function(){var trigger=$(this).find('.popup-trigger').first();var content=$(this).find('.popup-content').first();content.dialog({autoOpen:false,width:430,resizable:false});trigger.click(function(e){content.dialog('open');e.preventDefault();});});$('a.popup-link').once('popup-link',function(){$(this).click(function(e){var target=$(this).attr('href');var winWidth=520;var winHeight=380;var winTop=(screen.height/2)-(winWidth/2);var winLeft=(screen.width/2)-(winHeight/2);window.open(target,'sharer','top='+winTop+',left='+winLeft+',toolbar=0,status=0,width='+winWidth+',height='+winHeight);e.preventDefault();});});$('.opener').each(function(){$(this).wrap('<a href="#"></a>');$(this).parent().next('.opener-target').hide();$(this).parent().click(function(e){$(this).next('.opener-target').slideToggle();$(this).toggleClass('opener-open');e.preventDefault();});});if($('.opener').length>0){var firstOpener=$('.opener').first();firstOpener.parent().next('.opener-target').slideToggle();firstOpener.parent().toggleClass('opener-open');}
if($('.accordion').length){var is_active=0;if($('.accordion').children('h3').length==1&&$('.accordion h3').first().text()=='Your Account'){is_active=false;}
$('.accordion').accordion({collapsible:true,heightStyle:"content",active:is_active});}
if(window.matchMedia("(max-width: 400px)").matches){$('.read-more-on-mobile').once('alsf-read-more-on-mobile',function(){$(this).wrap('<div class="read-more-on-mobile-wrapper read-more-hidden"></div>');var $button=$('<div class="read-more-button-wrapper"><input class="read-more-button" type="button" value="Expand" /></div>');$button.click(function(e){e.preventDefault();$button.parent().removeClass('read-more-hidden');$button.hide();});$(this).parent().append($button);});}
$('.read-more-everywhere').once('alsf-read-more-everywhere',function(){$(this).wrap('<div class="read-more-everywhere-wrapper read-more-hidden"></div>');var $button=$('<div class="read-more-button-wrapper"><input class="read-more-button" type="button" value="Expand" /></div>');$button.click(function(e){e.preventDefault();$button.parent().removeClass('read-more-hidden');$button.hide();});$(this).parent().append($button);});jQuery.fn.scrollTo=function(data){$('html, body').animate({scrollTop:$(this).offset().top},data);};if($('.confirm-unless-clicked').length!=0){$('.confirm-unless-clicked').once('ALSFConfirmBeforeLeaving').click(function(e){window.main_button_clicked=true;});window.onbeforeunload=function(){if(!window.main_button_clicked){return 'You haven’t completed registration yet, click ‘Next’ to continue.';}};}
$("input.form-radio:checked",context).once('ALSFForms').addClass('js-radio-on');$("input.form-radio",context).once('ALSFForms').addClass('js-radio').change(function(){if($(this).attr('checked')){$(this).addClass('js-radio-on');}else{$(this).removeClass('js-radio-on');}});$("input.form-checkbox:checked",context).once('ALSFForms').addClass('js-checkbox-on');$("input.form-checkbox").addClass('js-checkbox').change(function(){if($(this).attr('checked')){$(this).addClass('js-checkbox-on');}else{$(this).removeClass('js-checkbox-on');}});$("select.form-select",context).once('ALSFForms').wrap('<span class="js-select" />');$("select.form-select:disabled",context).parent().addClass('js-select-disabled');$("input.form-text",context).once('ALSFForms').wrap('<span class="js-textfield" />');$("input.form-text:disabled",context).parent().addClass('js-textfield-disabled');$("input.form-submit",context).not(".styled-button").once('ALSFForms').wrap('<span class="js-button" />');$('input:radio').each(function(){if(this.id=='edit-team-option-newteam'||this.id=='edit-team-option-oldteam'||this.id=='edit-team-option-individual'){$(this).hide()
var label=$("label[for="+'"'+this.id+'"'+"]").text();$('<a '+(label!=''?'title=" '+label+' "':'')+' class="radio-fx '+this.name+'" '+' id="'+this.id+'" href="#"><span class="radio'+(this.checked?' radio-checked':'')+'"></span></a>').insertAfter(this);}});}}})(jQuery);